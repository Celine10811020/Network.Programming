<!DOCTYPE html>
<!-- saved from url=(0033)https://md.zoolab.org/s/tQFZWeeXH -->
<html lang="zh-TW" hc="a0" hcx="0"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="mobile-web-app-capable" content="yes">
    
    
    
    <meta name="description" content="# INP111 Homework 02 Week #15 (2022-12-15)  Date: 2022-12-15 &lt;span style=&quot;color:red&quot;&gt;Due Date: 2023-">
    
    <title>INP111 Homework 02 Week #15 (2022-12-15) - CodiMD</title>
    <link rel="icon" type="image/png" href="https://md.zoolab.org/favicon.png">
    <link rel="apple-touch-icon" href="https://md.zoolab.org/apple-touch-icon.png">
  
    <link rel="stylesheet" href="./INP111 Homework 02 Week #15 (2022-12-15) - CodiMD_files/emojify.min.css">
    <link rel="stylesheet" href="./INP111 Homework 02 Week #15 (2022-12-15) - CodiMD_files/font.css">
    <link rel="stylesheet" href="./INP111 Homework 02 Week #15 (2022-12-15) - CodiMD_files/fork-awesome.min.css">
    <link href="./INP111 Homework 02 Week #15 (2022-12-15) - CodiMD_files/pretty-styles-pack.css" rel="stylesheet"><link href="./INP111 Homework 02 Week #15 (2022-12-15) - CodiMD_files/pretty-styles.css" rel="stylesheet"><link href="./INP111 Homework 02 Week #15 (2022-12-15) - CodiMD_files/pretty.css" rel="stylesheet">
  
<style id="hc_style" type="text/css">html[hc="a0"] {   -webkit-filter: url("https://md.zoolab.org/s/tQFZWeeXH#hc_extension_off"); } html[hcx="0"] img[src*="jpg"], html[hcx="0"] img[src*="jpeg"], html[hcx="0"] svg image, html[hcx="0"] img.rg_i, html[hcx="0"] embed, html[hcx="0"] object, html[hcx="0"] video {   -webkit-filter: url("https://md.zoolab.org/s/tQFZWeeXH#hc_extension_off"); }  html[hc="a1"] {   -webkit-filter: url("https://md.zoolab.org/s/tQFZWeeXH#hc_extension_highcontrast"); } html[hcx="1"] img[src*="jpg"], html[hcx="1"] img[src*="jpeg"], html[hcx="1"] img.rg_i, html[hcx="1"] svg image, html[hcx="1"] embed, html[hcx="1"] object, html[hcx="1"] video {   -webkit-filter: url("https://md.zoolab.org/s/tQFZWeeXH#hc_extension_highcontrast_back"); }  html[hc="a2"] {   -webkit-filter: url("https://md.zoolab.org/s/tQFZWeeXH#hc_extension_grayscale"); } html[hcx="2"] img[src*="jpg"], html[hcx="2"] img[src*="jpeg"], html[hcx="2"] img.rg_i, html[hcx="2"] svg image, html[hcx="2"] embed, html[hcx="2"] object, html[hcx="2"] video {   -webkit-filter: url("https://md.zoolab.org/s/tQFZWeeXH#hc_extension_grayscale_back"); }  html[hc="a3"] {   -webkit-filter: url("https://md.zoolab.org/s/tQFZWeeXH#hc_extension_invert"); } html[hcx="3"] img[src*="jpg"], html[hcx="3"] img[src*="jpeg"], html[hcx="3"] img.rg_i, html[hcx="3"] svg image, html[hcx="3"] embed, html[hcx="3"] object, html[hcx="3"] video {   -webkit-filter: url("https://md.zoolab.org/s/tQFZWeeXH#hc_extension_invert_back"); }  html[hc="a4"] {   -webkit-filter: url("https://md.zoolab.org/s/tQFZWeeXH#hc_extension_invert_grayscale"); } html[hcx="4"] img[src*="jpg"], html[hcx="4"] img[src*="jpeg"], html[hcx="4"] img.rg_i, html[hcx="4"] svg image, html[hcx="4"] embed, html[hcx="4"] object, html[hcx="4"] video {   -webkit-filter: url("https://md.zoolab.org/s/tQFZWeeXH#hc_extension_invert_back"); }  html[hc="a5"] {   -webkit-filter: url("https://md.zoolab.org/s/tQFZWeeXH#hc_extension_yellow_on_black"); } html[hcx="5"] img[src*="jpg"], html[hcx="5"] img[src*="jpeg"], html[hcx="5"] img.rg_i, html[hcx="5"] svg image, html[hcx="5"] embed, html[hcx="5"] object, html[hcx="5"] video {   -webkit-filter: url("https://md.zoolab.org/s/tQFZWeeXH#hc_extension_yellow_on_black_back"); }</style><style type="text/css">.MathJax_Preview {color: #888}
#MathJax_Message {position: fixed; left: 1em; bottom: 1.5em; background-color: #E6E6E6; border: 1px solid #959595; margin: 0px; padding: 2px 8px; z-index: 102; color: black; font-size: 80%; width: auto; white-space: nowrap}
#MathJax_MSIE_Frame {position: absolute; top: 0; left: 0; width: 0px; z-index: 101; border: 0px; margin: 0px; padding: 0px}
.MathJax_Error {color: #CC0000; font-style: italic}
</style><style type="text/css">.MathJax_Hover_Frame {border-radius: .25em; -webkit-border-radius: .25em; -moz-border-radius: .25em; -khtml-border-radius: .25em; box-shadow: 0px 0px 15px #83A; -webkit-box-shadow: 0px 0px 15px #83A; -moz-box-shadow: 0px 0px 15px #83A; -khtml-box-shadow: 0px 0px 15px #83A; border: 1px solid #A6D ! important; display: inline-block; position: absolute}
.MathJax_Menu_Button .MathJax_Hover_Arrow {position: absolute; cursor: pointer; display: inline-block; border: 2px solid #AAA; border-radius: 4px; -webkit-border-radius: 4px; -moz-border-radius: 4px; -khtml-border-radius: 4px; font-family: 'Courier New',Courier; font-size: 9px; color: #F0F0F0}
.MathJax_Menu_Button .MathJax_Hover_Arrow span {display: block; background-color: #AAA; border: 1px solid; border-radius: 3px; line-height: 0; padding: 4px}
.MathJax_Hover_Arrow:hover {color: white!important; border: 2px solid #CCC!important}
.MathJax_Hover_Arrow:hover span {background-color: #CCC!important}
</style><style type="text/css">#MathJax_Zoom {position: absolute; background-color: #F0F0F0; overflow: auto; display: block; z-index: 301; padding: .5em; border: 1px solid black; margin: 0; font-weight: normal; font-style: normal; text-align: left; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; -webkit-box-sizing: content-box; -moz-box-sizing: content-box; box-sizing: content-box; box-shadow: 5px 5px 15px #AAAAAA; -webkit-box-shadow: 5px 5px 15px #AAAAAA; -moz-box-shadow: 5px 5px 15px #AAAAAA; -khtml-box-shadow: 5px 5px 15px #AAAAAA; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}
#MathJax_ZoomOverlay {position: absolute; left: 0; top: 0; z-index: 300; display: inline-block; width: 100%; height: 100%; border: 0; padding: 0; margin: 0; background-color: white; opacity: 0; filter: alpha(opacity=0)}
#MathJax_ZoomFrame {position: relative; display: inline-block; height: 0; width: 0}
#MathJax_ZoomEventTrap {position: absolute; left: 0; top: 0; z-index: 302; display: inline-block; border: 0; padding: 0; margin: 0; background-color: white; opacity: 0; filter: alpha(opacity=0)}
</style><style type="text/css">#MathJax_About {position: fixed; left: 50%; width: auto; text-align: center; border: 3px outset; padding: 1em 2em; background-color: #DDDDDD; color: black; cursor: default; font-family: message-box; font-size: 120%; font-style: normal; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; z-index: 201; border-radius: 15px; -webkit-border-radius: 15px; -moz-border-radius: 15px; -khtml-border-radius: 15px; box-shadow: 0px 10px 20px #808080; -webkit-box-shadow: 0px 10px 20px #808080; -moz-box-shadow: 0px 10px 20px #808080; -khtml-box-shadow: 0px 10px 20px #808080; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}
#MathJax_About.MathJax_MousePost {outline: none}
.MathJax_Menu {position: absolute; background-color: white; color: black; width: auto; padding: 2px; border: 1px solid #CCCCCC; margin: 0; cursor: default; font: menu; text-align: left; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; z-index: 201; box-shadow: 0px 10px 20px #808080; -webkit-box-shadow: 0px 10px 20px #808080; -moz-box-shadow: 0px 10px 20px #808080; -khtml-box-shadow: 0px 10px 20px #808080; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}
.MathJax_MenuItem {padding: 2px 2em; background: transparent}
.MathJax_MenuArrow {position: absolute; right: .5em; padding-top: .25em; color: #666666; font-size: .75em}
.MathJax_MenuActive .MathJax_MenuArrow {color: white}
.MathJax_MenuArrow.RTL {left: .5em; right: auto}
.MathJax_MenuCheck {position: absolute; left: .7em}
.MathJax_MenuCheck.RTL {right: .7em; left: auto}
.MathJax_MenuRadioCheck {position: absolute; left: 1em}
.MathJax_MenuRadioCheck.RTL {right: 1em; left: auto}
.MathJax_MenuLabel {padding: 2px 2em 4px 1.33em; font-style: italic}
.MathJax_MenuRule {border-top: 1px solid #CCCCCC; margin: 4px 1px 0px}
.MathJax_MenuDisabled {color: GrayText}
.MathJax_MenuActive {background-color: Highlight; color: HighlightText}
.MathJax_MenuDisabled:focus, .MathJax_MenuLabel:focus {background-color: #E8E8E8}
.MathJax_ContextMenu:focus {outline: none}
.MathJax_ContextMenu .MathJax_MenuItem:focus {outline: none}
#MathJax_AboutClose {top: .2em; right: .2em}
.MathJax_Menu .MathJax_MenuClose {top: -10px; left: -10px}
.MathJax_MenuClose {position: absolute; cursor: pointer; display: inline-block; border: 2px solid #AAA; border-radius: 18px; -webkit-border-radius: 18px; -moz-border-radius: 18px; -khtml-border-radius: 18px; font-family: 'Courier New',Courier; font-size: 24px; color: #F0F0F0}
.MathJax_MenuClose span {display: block; background-color: #AAA; border: 1.5px solid; border-radius: 18px; -webkit-border-radius: 18px; -moz-border-radius: 18px; -khtml-border-radius: 18px; line-height: 0; padding: 8px 0 6px}
.MathJax_MenuClose:hover {color: white!important; border: 2px solid #CCC!important}
.MathJax_MenuClose:hover span {background-color: #CCC!important}
.MathJax_MenuClose:hover:focus {outline: none}
</style><style type="text/css">.MathJax_Preview .MJXf-math {color: inherit!important}
</style><style type="text/css">.MJX_Assistive_MathML {position: absolute!important; top: 0; left: 0; clip: rect(1px, 1px, 1px, 1px); padding: 1px 0 0 0!important; border: 0!important; height: 1px!important; width: 1px!important; overflow: hidden!important; display: block!important; -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none}
.MJX_Assistive_MathML.MJX_Assistive_MathML_Block {width: 100%!important}
</style><style type="text/css" id="parrottalks-notetaker-style">      html > body.evernote_clearly__before_visible #parrottalks-notetaker > iframe,      html > body.clearlyBeforeVisible #parrottalks-notetaker > iframe:not(#evernoteGlobalTools):not(#evernoteOptionsPage):not(#evernoteClearlyArticle) {        visibility: visible !important;      }      .evernote_clearly__before_visible #evernote_clearly__reformat,      .clearlyBeforeVisible #evernoteClearlyArticle {        z-index: 2147483646 !important;      }    </style><style type="text/css">.MJXp-script {font-size: .8em}
.MJXp-right {-webkit-transform-origin: right; -moz-transform-origin: right; -ms-transform-origin: right; -o-transform-origin: right; transform-origin: right}
.MJXp-bold {font-weight: bold}
.MJXp-italic {font-style: italic}
.MJXp-scr {font-family: MathJax_Script,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-frak {font-family: MathJax_Fraktur,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-sf {font-family: MathJax_SansSerif,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-cal {font-family: MathJax_Caligraphic,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-mono {font-family: MathJax_Typewriter,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-largeop {font-size: 150%}
.MJXp-largeop.MJXp-int {vertical-align: -.2em}
.MJXp-math {display: inline-block; line-height: 1.2; text-indent: 0; font-family: 'Times New Roman',Times,STIXGeneral,serif; white-space: nowrap; border-collapse: collapse}
.MJXp-display {display: block; text-align: center; margin: 1em 0}
.MJXp-math span {display: inline-block}
.MJXp-box {display: block!important; text-align: center}
.MJXp-box:after {content: " "}
.MJXp-rule {display: block!important; margin-top: .1em}
.MJXp-char {display: block!important}
.MJXp-mo {margin: 0 .15em}
.MJXp-mfrac {margin: 0 .125em; vertical-align: .25em}
.MJXp-denom {display: inline-table!important; width: 100%}
.MJXp-denom > * {display: table-row!important}
.MJXp-surd {vertical-align: top}
.MJXp-surd > * {display: block!important}
.MJXp-script-box > *  {display: table!important; height: 50%}
.MJXp-script-box > * > * {display: table-cell!important; vertical-align: top}
.MJXp-script-box > *:last-child > * {vertical-align: bottom}
.MJXp-script-box > * > * > * {display: block!important}
.MJXp-mphantom {visibility: hidden}
.MJXp-munderover, .MJXp-munder {display: inline-table!important}
.MJXp-over {display: inline-block!important; text-align: center}
.MJXp-over > * {display: block!important}
.MJXp-munderover > *, .MJXp-munder > * {display: table-row!important}
.MJXp-mtable {vertical-align: .25em; margin: 0 .125em}
.MJXp-mtable > * {display: inline-table!important; vertical-align: middle}
.MJXp-mtr {display: table-row!important}
.MJXp-mtd {display: table-cell!important; text-align: center; padding: .5em 0 0 .5em}
.MJXp-mtr > .MJXp-mtd:first-child {padding-left: 0}
.MJXp-mtr:first-child > .MJXp-mtd {padding-top: 0}
.MJXp-mlabeledtr {display: table-row!important}
.MJXp-mlabeledtr > .MJXp-mtd:first-child {padding-left: 0}
.MJXp-mlabeledtr:first-child > .MJXp-mtd {padding-top: 0}
.MJXp-merror {background-color: #FFFF88; color: #CC0000; border: 1px solid #CC0000; padding: 1px 3px; font-style: normal; font-size: 90%}
.MJXp-scale0 {-webkit-transform: scaleX(.0); -moz-transform: scaleX(.0); -ms-transform: scaleX(.0); -o-transform: scaleX(.0); transform: scaleX(.0)}
.MJXp-scale1 {-webkit-transform: scaleX(.1); -moz-transform: scaleX(.1); -ms-transform: scaleX(.1); -o-transform: scaleX(.1); transform: scaleX(.1)}
.MJXp-scale2 {-webkit-transform: scaleX(.2); -moz-transform: scaleX(.2); -ms-transform: scaleX(.2); -o-transform: scaleX(.2); transform: scaleX(.2)}
.MJXp-scale3 {-webkit-transform: scaleX(.3); -moz-transform: scaleX(.3); -ms-transform: scaleX(.3); -o-transform: scaleX(.3); transform: scaleX(.3)}
.MJXp-scale4 {-webkit-transform: scaleX(.4); -moz-transform: scaleX(.4); -ms-transform: scaleX(.4); -o-transform: scaleX(.4); transform: scaleX(.4)}
.MJXp-scale5 {-webkit-transform: scaleX(.5); -moz-transform: scaleX(.5); -ms-transform: scaleX(.5); -o-transform: scaleX(.5); transform: scaleX(.5)}
.MJXp-scale6 {-webkit-transform: scaleX(.6); -moz-transform: scaleX(.6); -ms-transform: scaleX(.6); -o-transform: scaleX(.6); transform: scaleX(.6)}
.MJXp-scale7 {-webkit-transform: scaleX(.7); -moz-transform: scaleX(.7); -ms-transform: scaleX(.7); -o-transform: scaleX(.7); transform: scaleX(.7)}
.MJXp-scale8 {-webkit-transform: scaleX(.8); -moz-transform: scaleX(.8); -ms-transform: scaleX(.8); -o-transform: scaleX(.8); transform: scaleX(.8)}
.MJXp-scale9 {-webkit-transform: scaleX(.9); -moz-transform: scaleX(.9); -ms-transform: scaleX(.9); -o-transform: scaleX(.9); transform: scaleX(.9)}
.MathJax_PHTML .noError {vertical-align: ; font-size: 90%; text-align: left; color: black; padding: 1px 3px; border: 1px solid}
</style></head>

<body style="" data-new-gr-c-s-check-loaded="14.1091.0" data-gr-ext-installed=""><div id="MathJax_Message" style="display: none;"></div>
    <div class="ui-infobar container-fluid unselectable hidden-print">
        <small>
            <span>
                
                    <span class="ui-lastchangeuser"> <i class="ui-user-icon small" style="background-image: url(https://www.gravatar.com/avatar/90018aa080b07e502a72e649bd43fdaa?s=96);" data-toggle="tooltip" data-placement="right" title="" data-original-title="inp111"></i></span>
                
                &nbsp;<span class="text-uppercase ui-status-lastchange">changed</span>
                <span class="ui-lastchange text-uppercase" data-createtime="Fri Dec 09 2022 17:06:28 GMT+0000 (Coordinated Universal Time)" data-updatetime="Wed Dec 21 2022 08:24:33 GMT+0000 (Coordinated Universal Time)" title="Wed, Dec 21, 2022 4:24 PM">11 days ago</span>
            </span>
            <span class="pull-right">227 views <a href="https://md.zoolab.org/s/tQFZWeeXH/edit" class="ui-edit" title="Edit this note"><i class="fa fa-fw fa-pencil"></i></a></span>
            <br>
            
        </small>
    </div>
    <div id="doc" class="container markdown-body"><h1 class="" id="INP111-Homework-02-Week-15-2022-12-15"><a class="anchor hidden-xs" href="https://md.zoolab.org/s/tQFZWeeXH#INP111-Homework-02-Week-15-2022-12-15" title="INP111-Homework-02-Week-15-2022-12-15" smoothhashscroll=""><i class="fa fa-link"></i></a>INP111 Homework 02 Week #15 (2022-12-15)</h1>
<p>Date: 2022-12-15<br>
<span style="color:red">Due Date: 2023-01-05</span></p>
<p></p><div class="toc"><ul>
<li><a href="https://md.zoolab.org/s/tQFZWeeXH#INP111-Homework-02-Week-15-2022-12-15" title="INP111 Homework 02 Week #15 (2022-12-15)" smoothhashscroll="">INP111 Homework 02 Week #15 (2022-12-15)</a></li>
<li><a href="https://md.zoolab.org/s/tQFZWeeXH#Your-Own-Domain-Name-Server" title="Your Own Domain Name Server" smoothhashscroll="">Your Own Domain Name Server</a><ul>
<li><a href="https://md.zoolab.org/s/tQFZWeeXH#Brief-Descriptions-of-the-Specification" title="Brief Descriptions of the Specification" smoothhashscroll="">Brief Descriptions of the Specification</a></li>
<li><a href="https://md.zoolab.org/s/tQFZWeeXH#Protocol-Messages" title="Protocol Messages" smoothhashscroll="">Protocol Messages</a></li>
<li><a href="https://md.zoolab.org/s/tQFZWeeXH#Type-Values" title="Type Values" smoothhashscroll="">Type Values</a></li>
<li><a href="https://md.zoolab.org/s/tQFZWeeXH#Additional-Requirement-A-nipio-like-service" title="Additional Requirement: A nip.io like service" smoothhashscroll="">Additional Requirement: A nip.io like service</a></li>
<li><a href="https://md.zoolab.org/s/tQFZWeeXH#Configuration-Files" title="Configuration Files" smoothhashscroll="">Configuration Files</a></li>
<li><a href="https://md.zoolab.org/s/tQFZWeeXH#Zone-Files" title="Zone Files" smoothhashscroll="">Zone Files</a></li>
<li><a href="https://md.zoolab.org/s/tQFZWeeXH#The-DNS-Client" title="The DNS Client" smoothhashscroll="">The DNS Client</a></li>
<li><a href="https://md.zoolab.org/s/tQFZWeeXH#Demonstration" title="Demonstration" smoothhashscroll="">Demonstration</a></li>
</ul>
</li>
<li><a href="https://md.zoolab.org/s/tQFZWeeXH#Grading-Policy" title="Grading Policy" smoothhashscroll="">Grading Policy</a></li>
</ul>
</div><p></p>
<h1 class="" id="Your-Own-Domain-Name-Server"><a class="anchor hidden-xs" href="https://md.zoolab.org/s/tQFZWeeXH#Your-Own-Domain-Name-Server" title="Your-Own-Domain-Name-Server" smoothhashscroll=""><i class="fa fa-link"></i></a>Your Own Domain Name Server</h1>
<p>This homework aims to implement a Domain Name Server (DNS). Your goal is to implement a DNS server that can correctly respond when users ask for a DNS record of a particular domain name. For more details about the domain system and protocol, please refer to <a href="https://www.rfc-editor.org/rfc/rfc1035" target="_blank" rel="noopener">RFC 1035</a>.</p>
<h2 class="" id="Brief-Descriptions-of-the-Specification"><a class="anchor hidden-xs" href="https://md.zoolab.org/s/tQFZWeeXH#Brief-Descriptions-of-the-Specification" title="Brief-Descriptions-of-the-Specification" smoothhashscroll=""><i class="fa fa-link"></i></a>Brief Descriptions of the Specification</h2>
<p>You have to read <a href="https://www.rfc-editor.org/rfc/rfc1035" target="_blank" rel="noopener">RFC 1035</a> carefully for the details of the query and response messages format of the DNS server. Here we simply provide brief descriptions of the behaviors you must implement in this homework.</p>
<div class="alert alert-success">
<p>Additional remarks on the behavior of the DNS server are summarized as follows. These remarks might make your implementation simpler.</p>
<ul>
<li class="">
<p>First, your DNS server has to read a configuration file containing the configuration of the DNS server, such as domain information and IP address of the foreign name server. An example of this configuration file is provided in the Configuration Files section. You can use the example file to test your implementation.</p>
</li>
<li class="">
<p>Your DNS server should respond to a query if a queried domain is handled by your server (based on the configuration).</p>
</li>
<li class="">
<p>For domains not handled by your server, your DNS server has to forward the request to the configured foreign server.</p>
</li>
</ul>
</div>
<div class="alert alert-danger">
<p><strong>Note</strong>: You only need to handle protocol messages delivered in UDP.</p>
</div>
<h2 class="" id="Protocol-Messages"><a class="anchor hidden-xs" href="https://md.zoolab.org/s/tQFZWeeXH#Protocol-Messages" title="Protocol-Messages" smoothhashscroll=""><i class="fa fa-link"></i></a>Protocol Messages</h2>
<p>The protocol message format used by DNS servers is defined in <a href="https://www.rfc-editor.org/rfc/rfc1035" target="_blank" rel="noopener">RFC 1035</a> and section 2 of <a href="https://www.rfc-editor.org/rfc/rfc3596" target="_blank" rel="noopener">RFC 3596</a>.</p>
<div class="alert alert-success">
<p>In this homework, you only need to implement standard queries and responses. You do not need to consider the situation when OPCODE is not 0.</p>
</div>
<h2 class="" id="Type-Values"><a class="anchor hidden-xs" href="https://md.zoolab.org/s/tQFZWeeXH#Type-Values" title="Type-Values" smoothhashscroll=""><i class="fa fa-link"></i></a>Type Values</h2>
<p>The answer, authority, and additional sections share the same resource record format in RFC 1035. The type fields are used in resource records to specify the meaning of the data in each resource record. You only need to implement the types required in this homework. The required types and their meaning are listed below:</p>
<pre><code>A     : a host address in IPv4
AAAA  : a host address in IPv6
NS    : an authoritative name server 
CNAME : the canonical name for an alias
SOA   : marks the start of a zone of authority
MX    : mail exchange
TXT   : text strings 
</code></pre>
<h2 class="" id="Additional-Requirement-A-nipio-like-service"><a class="anchor hidden-xs" href="https://md.zoolab.org/s/tQFZWeeXH#Additional-Requirement-A-nipio-like-service" title="Additional-Requirement-A-nipio-like-service" smoothhashscroll=""><i class="fa fa-link"></i></a>Additional Requirement: A <a href="http://nip.io/" target="_blank" rel="noopener">nip.io</a> like service</h2>
<p><a href="http://nip.io/" target="_blank" rel="noopener">nip.io</a> is a service that resolves any IP address you want from the domain. For example, if you query <code>127.0.0.1.nip.io</code>, you get the answer like <code>127.0.0.1.nip.io.       21600   IN      A       127.0.0.1</code>. You can change the <code>127.0.0.1</code> to any IP address you want.</p>
<p>You need to implement a similar service in this homework.</p>
<p>If the query is match <code>/^([0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3})\.([0-9a-zA-Z]{1,61}\.)*{YOUR DOMAIN}$/</code>, your service should answer the A record that address is the <code>([0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3})</code> part of the query and TTL is <code>1</code>.</p>
<p>For example, suppose that your domain is <code>inplab.io</code>, and your server receives a query <code>87.87.87.87.abc.inplab.io</code>. Your server should respond <code>87.87.87.87.abc.inplab.io 1 IN A 87.87.87.87</code>.</p>
<h2 class="" id="Configuration-Files"><a class="anchor hidden-xs" href="https://md.zoolab.org/s/tQFZWeeXH#Configuration-Files" title="Configuration-Files" smoothhashscroll=""><i class="fa fa-link"></i></a>Configuration Files</h2>
<p>The format of the configuration file of this homework is defined as follows.</p>
<pre><code>&lt;forwardIP&gt;
&lt;domain 1&gt;,&lt;path of zone file 1&gt;
&lt;domain 2&gt;,&lt;path of zone file 2&gt;
...
</code></pre>
<h2 class="" id="Zone-Files"><a class="anchor hidden-xs" href="https://md.zoolab.org/s/tQFZWeeXH#Zone-Files" title="Zone-Files" smoothhashscroll=""><i class="fa fa-link"></i></a>Zone Files</h2>
<p>The format of a zone file containing records of a domain is defined as follows.</p>
<!--Each zone file defines the domain information of a specific domain declared in the config file. -->
<pre><code>&lt;domain&gt;
&lt;NAME&gt;,&lt;TTL&gt;,&lt;CLASS&gt;,&lt;TYPE&gt;,&lt;RDATA&gt;
&lt;NAME&gt;,&lt;TTL&gt;,&lt;CLASS&gt;,&lt;TYPE&gt;,&lt;RDATA&gt;
...
</code></pre>
<p>The format of &lt;RDATA&gt; for each RR type is summarized below.</p>
<pre><code>A     : &lt;ADDRESS&gt;
AAAA  : &lt;ADDRESS&gt;
NS    : &lt;NSDNAME&gt;
CNAME : &lt;CNAME&gt;
SOA   : &lt;MNAME&gt; &lt;RNAME&gt; &lt;SERIAL&gt; &lt;REFRESH&gt; &lt;RETRY&gt; &lt;EXPIRE&gt; &lt;MINIMUM&gt;
MX    : &lt;PREFERENCE&gt; &lt;EXCHANGE&gt;
TXT   : &lt;TXT-DATA&gt;
</code></pre>
<div class="alert alert-danger">
<p><strong>Note:</strong> We will use a different configuration file of the same format to test your implementation.<br>
<strong>Note:</strong> All the used configuration files are always in the correct format. You do not need to handle the error case.<br>
<strong>Note:</strong> The sample configuration file (<a href="https://drive.google.com/file/d/1a9gbvuZXD4FMjKcnwDd_d7FKXxjkfkrZ/view?usp=sharing" target="_blank" rel="noopener">config.txt</a>) and zone files (<a href="https://drive.google.com/file/d/1aV7dhbNsmFp8EAQf3-w7IdLuLP_mSNwF/view?usp=sharing" target="_blank" rel="noopener">zone-example1.org.txt</a> | <a href="https://drive.google.com/file/d/14hVb7dMi-asMzZfAR_HjwsEUTksH3d33/view?usp=sharing" target="_blank" rel="noopener">zone-example2.org.txt</a>) are avaible here. You can use them to test your implementation.</p>
</div>
<h2 class="" id="The-DNS-Client"><a class="anchor hidden-xs" href="https://md.zoolab.org/s/tQFZWeeXH#The-DNS-Client" title="The-DNS-Client" smoothhashscroll=""><i class="fa fa-link"></i></a>The DNS Client</h2>
<p><strong>dig</strong> (Domain Information Groper) is a tool we introduced in the lecture before. It performs DNS lookups and displays the answers from the queried name server(s). We use it to test your implementation. You can find the details in the demonstration below or check its <a href="https://www.ibm.com/docs/en/aix/7.1?topic=d-dig-commandhttps:" target="_blank" rel="noopener">main page</a>.</p>
<h2 class="" id="Demonstration"><a class="anchor hidden-xs" href="https://md.zoolab.org/s/tQFZWeeXH#Demonstration" title="Demonstration" smoothhashscroll=""><i class="fa fa-link"></i></a>Demonstration</h2>
<p>Your DNS server must accept two arguments. Assume your program is named <code>dns</code>, the command argument format is <code>./dns &lt;port-number&gt; &lt;path/to/the/config/file&gt;</code>.</p>
<p>Suppose the server receives quires from UDP port 1053 on localhost, and the IP address of the foreign name server is 8.8.8.8. You may run the following commands to test each of the test cases listed in the grading policy:</p>
<pre><code>$ dig @&lt;server_ip&gt; -p &lt;port&gt; &lt;domainname in its domain&gt;
</code></pre>
<p><img src="./INP111 Homework 02 Week #15 (2022-12-15) - CodiMD_files/upload_dc139c893121d68eb96dabce8528cc98.PNG" alt="" class="md-image"></p>
<p><img src="./INP111 Homework 02 Week #15 (2022-12-15) - CodiMD_files/upload_ff7f720ffc62d8d0734e0831a1631ea4.PNG" alt="" class="md-image"></p>
<p><img src="./INP111 Homework 02 Week #15 (2022-12-15) - CodiMD_files/upload_d51da9f6e8613f35cf69d85be3aea518.PNG" alt="" class="md-image"></p>
<p><img src="./INP111 Homework 02 Week #15 (2022-12-15) - CodiMD_files/upload_2fe3bd665aa0016628ea270389439791.PNG" alt="" class="md-image"></p>
<div class="alert alert-danger">
<p><strong>Note</strong>: Since we do not define any information about “localhost” in the config file, the query is forwarded to the foreign name server when we query for the IP address of localhost.</p>
<ul>
<li class="">
<p>Foreign name server IP: 8.8.8.8<br>
<img src="./INP111 Homework 02 Week #15 (2022-12-15) - CodiMD_files/upload_ecdac86410383fbc79ba74725c4e772d.PNG" alt="" class="md-image"></p>
</li>
<li class="">
<p>Foreign name server IP: 127.0.0.53<br>
<img src="./INP111 Homework 02 Week #15 (2022-12-15) - CodiMD_files/upload_0407593d6232e6447f284b0ed40a313e.PNG" alt="" class="md-image"></p>
</li>
</ul>
</div>
<pre><code>$ dig @&lt;server_ip&gt; -p &lt;port&gt; &lt;domainname not in its domain&gt;
</code></pre>
<p><img src="./INP111 Homework 02 Week #15 (2022-12-15) - CodiMD_files/upload_273f994f0345d779a2a026bd4a77ce7c.PNG" alt="" class="md-image"></p>
<pre><code>$ dig @&lt;server_ip&gt; -p &lt;port&gt; &lt;domainname not in its domain&gt; A
</code></pre>
<p><img src="./INP111 Homework 02 Week #15 (2022-12-15) - CodiMD_files/upload_e795aaccb29f7f3835c6a974d6154c44.PNG" alt="" class="md-image"></p>
<pre><code>$ dig @&lt;server_ip&gt; -p &lt;port&gt; &lt;domainname not in its domain&gt; AAAA
</code></pre>
<p><img src="./INP111 Homework 02 Week #15 (2022-12-15) - CodiMD_files/upload_d50aa9c2b561483b3156285f00415fb7.PNG" alt="" class="md-image"></p>
<pre><code>$ dig @&lt;server_ip&gt; -p &lt;port&gt; &lt;domainname not in its domain&gt; NS
</code></pre>
<p><img src="./INP111 Homework 02 Week #15 (2022-12-15) - CodiMD_files/upload_6cc11aa429a7a9ea6b9346e629d3e0ef.PNG" alt="" class="md-image"></p>
<pre><code>$ dig @&lt;server_ip&gt; -p &lt;port&gt; &lt;domainname not in its domain&gt; CNAME
</code></pre>
<p><img src="./INP111 Homework 02 Week #15 (2022-12-15) - CodiMD_files/upload_ccaace14576362510fe86c5a1451874c.PNG" alt="" class="md-image"></p>
<pre><code>$ dig @&lt;server_ip&gt; -p &lt;port&gt; &lt;domainname not in its domain&gt; SOA
</code></pre>
<p><img src="./INP111 Homework 02 Week #15 (2022-12-15) - CodiMD_files/upload_de6037e91f158374187f29d9b2ed9ca2.PNG" alt="" class="md-image"></p>
<pre><code>$ dig @&lt;server_ip&gt; -p &lt;port&gt; &lt;domainname not in its domain&gt; MX
</code></pre>
<p><img src="./INP111 Homework 02 Week #15 (2022-12-15) - CodiMD_files/upload_71811168747c43aab50eb0fc9a617739.PNG" alt="" class="md-image"></p>
<pre><code>$ dig @&lt;server_ip&gt; -p &lt;port&gt; &lt;domainname not in its domain&gt; TXT
</code></pre>
<p><img src="./INP111 Homework 02 Week #15 (2022-12-15) - CodiMD_files/upload_c4ea5eeb13414973bba04fb9e41efb23.PNG" alt="" class="md-image"></p>
<div class="alert alert-success">
<p>You can play with our server with the dig commands:</p>
<pre><code>dig @inp111.zoolab.org -p 10013 &lt;domain name&gt; &lt;RR type&gt;
</code></pre>
</div>
<h1 class="" id="Grading-Policy"><a class="anchor hidden-xs" href="https://md.zoolab.org/s/tQFZWeeXH#Grading-Policy" title="Grading-Policy" smoothhashscroll=""><i class="fa fa-link"></i></a>Grading Policy</h1>
<p>[25%] Your server can give a correct host address when the requested domain name is in its domain.</p>
<p>[25%] Your server can forward the domain name to the foreign server when your server does not handle the requested domain name. In this way, your server can still receive the correct host address.</p>
<p>[35%] Your server can handle the 7 type values listed above. Your server can filter resource records based on different type values (each type worth 5 points).</p>
<p>[15%] Your server needs to return A record response when the query meets the format <code>/^([0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3})\.([0-9a-zA-Z]{1,61}\.)*{YOUR DOMAIN}$/</code> . The detailed description of this part is introduced in <a href="https://md.zoolab.org/s/tQFZWeeXH#Additional-Requirement-A-nipio-like-service" smoothhashscroll="">the section</a>.</p>
</div>
    <div class="ui-toc dropup unselectable hidden-print" style="right: 243.32px; display: none;">
        <div class="pull-right dropdown">
            <a id="tocLabel" class="ui-toc-label btn btn-default" data-toggle="dropdown" href="https://md.zoolab.org/s/tQFZWeeXH#" role="button" aria-haspopup="true" aria-expanded="false" title="Table of content">
                <i class="fa fa-bars"></i>
            </a>
            <ul id="ui-toc" class="ui-toc-dropdown dropdown-menu" aria-labelledby="tocLabel"><div class="toc"><ul class="nav">
<li class=""><a href="https://md.zoolab.org/s/tQFZWeeXH#INP111-Homework-02-Week-15-2022-12-15" title="INP111 Homework 02 Week #15 (2022-12-15)" smoothhashscroll="">INP111 Homework 02 Week #15 (2022-12-15)</a></li>
<li class=""><a href="https://md.zoolab.org/s/tQFZWeeXH#Your-Own-Domain-Name-Server" title="Your Own Domain Name Server" smoothhashscroll="">Your Own Domain Name Server</a><ul class="nav">
<li class=""><a href="https://md.zoolab.org/s/tQFZWeeXH#Brief-Descriptions-of-the-Specification" title="Brief Descriptions of the Specification" smoothhashscroll="">Brief Descriptions of the Specification</a></li>
<li class=""><a href="https://md.zoolab.org/s/tQFZWeeXH#Protocol-Messages" title="Protocol Messages" smoothhashscroll="">Protocol Messages</a></li>
<li class=""><a href="https://md.zoolab.org/s/tQFZWeeXH#Type-Values" title="Type Values" smoothhashscroll="">Type Values</a></li>
<li class=""><a href="https://md.zoolab.org/s/tQFZWeeXH#Additional-Requirement-A-nipio-like-service" title="Additional Requirement: A nip.io like service" smoothhashscroll="">Additional Requirement: A nip.io like service</a></li>
<li class=""><a href="https://md.zoolab.org/s/tQFZWeeXH#Configuration-Files" title="Configuration Files" smoothhashscroll="">Configuration Files</a></li>
<li class=""><a href="https://md.zoolab.org/s/tQFZWeeXH#Zone-Files" title="Zone Files" smoothhashscroll="">Zone Files</a></li>
<li class=""><a href="https://md.zoolab.org/s/tQFZWeeXH#The-DNS-Client" title="The DNS Client" smoothhashscroll="">The DNS Client</a></li>
<li class=""><a href="https://md.zoolab.org/s/tQFZWeeXH#Demonstration" title="Demonstration" smoothhashscroll="">Demonstration</a></li>
</ul>
</li>
<li class="active"><a href="https://md.zoolab.org/s/tQFZWeeXH#Grading-Policy" title="Grading Policy" smoothhashscroll="">Grading Policy</a></li>
</ul>
</div></ul>
        </div>
    </div>
    <div id="ui-toc-affix" class="ui-affix-toc ui-toc-dropdown unselectable hidden-print affix" data-spy="affix" style="left: 976.68px;"><div class="toc"><ul class="nav">
<li class=""><a href="https://md.zoolab.org/s/tQFZWeeXH#INP111-Homework-02-Week-15-2022-12-15" title="INP111 Homework 02 Week #15 (2022-12-15)" smoothhashscroll="">INP111 Homework 02 Week #15 (2022-12-15)</a></li>
<li class=""><a href="https://md.zoolab.org/s/tQFZWeeXH#Your-Own-Domain-Name-Server" title="Your Own Domain Name Server" smoothhashscroll="">Your Own Domain Name Server</a><ul class="nav">
<li class=""><a href="https://md.zoolab.org/s/tQFZWeeXH#Brief-Descriptions-of-the-Specification" title="Brief Descriptions of the Specification" smoothhashscroll="">Brief Descriptions of the Specification</a></li>
<li class=""><a href="https://md.zoolab.org/s/tQFZWeeXH#Protocol-Messages" title="Protocol Messages" smoothhashscroll="">Protocol Messages</a></li>
<li class=""><a href="https://md.zoolab.org/s/tQFZWeeXH#Type-Values" title="Type Values" smoothhashscroll="">Type Values</a></li>
<li class=""><a href="https://md.zoolab.org/s/tQFZWeeXH#Additional-Requirement-A-nipio-like-service" title="Additional Requirement: A nip.io like service" smoothhashscroll="">Additional Requirement: A nip.io like service</a></li>
<li class=""><a href="https://md.zoolab.org/s/tQFZWeeXH#Configuration-Files" title="Configuration Files" smoothhashscroll="">Configuration Files</a></li>
<li class=""><a href="https://md.zoolab.org/s/tQFZWeeXH#Zone-Files" title="Zone Files" smoothhashscroll="">Zone Files</a></li>
<li class=""><a href="https://md.zoolab.org/s/tQFZWeeXH#The-DNS-Client" title="The DNS Client" smoothhashscroll="">The DNS Client</a></li>
<li class=""><a href="https://md.zoolab.org/s/tQFZWeeXH#Demonstration" title="Demonstration" smoothhashscroll="">Demonstration</a></li>
</ul>
</li>
<li class="active"><a href="https://md.zoolab.org/s/tQFZWeeXH#Grading-Policy" title="Grading Policy" smoothhashscroll="">Grading Policy</a></li>
</ul>
</div></div>
    



<script src="./INP111 Homework 02 Week #15 (2022-12-15) - CodiMD_files/mathjax-config-extra.js.下載"></script><div id="hc_extension_bkgnd" style="position: fixed; inset: 0px; z-index: -1999999999; display: block; background: none 0% 0% / auto repeat scroll padding-box border-box rgb(255, 255, 255);"></div><span id="hc_extension_svg_filters" hidden=""><svg xmlns="http://www.w3.org/2000/svg" version="1.1"><defs><filter x="0" y="0" width="99999" height="99999" id="hc_extension_off"><fecomponenttransfer><fefuncr type="table" tableValues="0 1"></fefuncr><fefuncg type="table" tableValues="0 1"></fefuncg><fefuncb type="table" tableValues="0 1"></fefuncb></fecomponenttransfer></filter><filter x="0" y="0" width="99999" height="99999" id="hc_extension_highcontrast"><fecomponenttransfer><fefuncr type="gamma" exponent="3.0"></fefuncr><fefuncg type="gamma" exponent="3.0"></fefuncg><fefuncb type="gamma" exponent="3.0"></fefuncb></fecomponenttransfer></filter><filter x="0" y="0" width="99999" height="99999" id="hc_extension_highcontrast_back"><fecomponenttransfer><fefuncr type="gamma" exponent="0.33"></fefuncr><fefuncg type="gamma" exponent="0.33"></fefuncg><fefuncb type="gamma" exponent="0.33"></fefuncb></fecomponenttransfer></filter><filter x="0" y="0" width="99999" height="99999" id="hc_extension_grayscale"><fecolormatrix type="matrix" values="0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"></fecolormatrix><fecomponenttransfer><fefuncr type="gamma" exponent="3"></fefuncr><fefuncg type="gamma" exponent="3"></fefuncg><fefuncb type="gamma" exponent="3"></fefuncb></fecomponenttransfer></filter><filter x="0" y="0" width="99999" height="99999" id="hc_extension_grayscale_back"><fecomponenttransfer><fefuncr type="gamma" exponent="0.33"></fefuncr><fefuncg type="gamma" exponent="0.33"></fefuncg><fefuncb type="gamma" exponent="0.33"></fefuncb></fecomponenttransfer></filter><filter x="0" y="0" width="99999" height="99999" id="hc_extension_invert"><fecomponenttransfer><fefuncr type="gamma" amplitude="-1" exponent="3" offset="1"></fefuncr><fefuncg type="gamma" amplitude="-1" exponent="3" offset="1"></fefuncg><fefuncb type="gamma" amplitude="-1" exponent="3" offset="1"></fefuncb></fecomponenttransfer></filter><filter x="0" y="0" width="99999" height="99999" id="hc_extension_invert_back"><fecomponenttransfer><fefuncr type="table" tableValues="1 0"></fefuncr><fefuncg type="table" tableValues="1 0"></fefuncg><fefuncb type="table" tableValues="1 0"></fefuncb></fecomponenttransfer><fecomponenttransfer><fefuncr type="gamma" exponent="1.7"></fefuncr><fefuncg type="gamma" exponent="1.7"></fefuncg><fefuncb type="gamma" exponent="1.7"></fefuncb></fecomponenttransfer></filter><filter x="0" y="0" width="99999" height="99999" id="hc_extension_invert_grayscale"><fecolormatrix type="matrix" values="0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"></fecolormatrix><fecomponenttransfer><fefuncr type="gamma" amplitude="-1" exponent="3" offset="1"></fefuncr><fefuncg type="gamma" amplitude="-1" exponent="3" offset="1"></fefuncg><fefuncb type="gamma" amplitude="-1" exponent="3" offset="1"></fefuncb></fecomponenttransfer></filter><filter x="0" y="0" width="99999" height="99999" id="hc_extension_yellow_on_black"><fecomponenttransfer><fefuncr type="gamma" amplitude="-1" exponent="3" offset="1"></fefuncr><fefuncg type="gamma" amplitude="-1" exponent="3" offset="1"></fefuncg><fefuncb type="gamma" amplitude="-1" exponent="3" offset="1"></fefuncb></fecomponenttransfer><fecolormatrix type="matrix" values="0.3 0.5 0.2 0 0 0.3 0.5 0.2 0 0 0 0 0 0 0 0 0 0 1 0"></fecolormatrix></filter><filter x="0" y="0" width="99999" height="99999" id="hc_extension_yellow_on_black_back"><fecomponenttransfer><fefuncr type="table" tableValues="1 0"></fefuncr><fefuncg type="table" tableValues="1 0"></fefuncg><fefuncb type="table" tableValues="1 0"></fefuncb></fecomponenttransfer><fecomponenttransfer><fefuncr type="gamma" exponent="0.33"></fefuncr><fefuncg type="gamma" exponent="0.33"></fefuncg><fefuncb type="gamma" exponent="0.33"></fefuncb></fecomponenttransfer></filter></defs></svg></span>

<script src="./INP111 Homework 02 Week #15 (2022-12-15) - CodiMD_files/MathJax.js.下載" defer=""></script>
<script src="./INP111 Homework 02 Week #15 (2022-12-15) - CodiMD_files/TeX-AMS-MML_HTMLorMML.js.下載" defer=""></script>
<script src="./INP111 Homework 02 Week #15 (2022-12-15) - CodiMD_files/Safe.js.下載" defer=""></script>
<script src="./INP111 Homework 02 Week #15 (2022-12-15) - CodiMD_files/config"></script><script src="./INP111 Homework 02 Week #15 (2022-12-15) - CodiMD_files/common.1349a0316c4d8448fc8a.js.下載" defer="defer"></script><script src="./INP111 Homework 02 Week #15 (2022-12-15) - CodiMD_files/pretty-pack.7d6d83ca1bdc20fcbeac.js.下載" defer="defer"></script>



</body><grammarly-desktop-integration data-grammarly-shadow-root="true"></grammarly-desktop-integration></html>